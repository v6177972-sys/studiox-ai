<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudioX AI Pro - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #030303; color: white; scroll-behavior: smooth; }
        .glass { background: rgba(10, 10, 10, 0.7); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.08); }
        .btn-primary { background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .btn-primary:hover { transform: translateY(-2px); shadow: 0 10px 25px -5px rgba(37, 99, 235, 0.4); }
        .result-card { animation: slideUp 0.6s ease-out forwards; background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0) 100%); }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .loading-bar { height: 2px; width: 0; background: #2563eb; transition: width 0.5s ease; }
    </style>
</head>
<body class="selection:bg-blue-500/30">

    <!-- NAVBAR -->
    <nav class="border-b border-white/5 bg-black/80 sticky top-0 z-50 backdrop-blur-md">
        <div class="max-w-5xl mx-auto px-6 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-9 h-9 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-900/20">
                    <span class="font-black text-xl italic text-white">X</span>
                </div>
                <span class="font-black text-xl tracking-tighter uppercase">StudioX <span class="text-blue-500">AI</span></span>
            </div>
            <div class="hidden sm:flex items-center gap-2">
                <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Sistema Operativo</span>
            </div>
        </div>
    </nav>

    <main class="max-w-4xl mx-auto px-6 py-12">
        
        <!-- HEADER -->
        <div class="mb-12 text-center sm:text-left">
            <h1 class="text-4xl md:text-5xl font-black mb-4 tracking-tight leading-none">
                DOMINA I SOCIAL <br class="hidden sm:block"> 
                <span class="text-blue-600 italic">CON L'IA PRO</span>
            </h1>
            <p class="text-gray-500 text-lg font-medium">L'interfaccia definitiva per contenuti che scalano.</p>
        </div>

        <!-- GENERATOR BOX -->
        <div class="glass rounded-3xl p-1 overflow-hidden shadow-2xl mb-10">
            <div class="p-6 md:p-8">
                <!-- Selector -->
                <div class="flex gap-1 mb-8 bg-black/50 p-1 rounded-2xl w-fit border border-white/5">
                    <button id="btn-text" onclick="setMode('text')" class="px-6 py-2.5 rounded-xl bg-blue-600 text-white font-bold text-xs uppercase tracking-widest transition-all">
                        Post & Testi
                    </button>
                    <button id="btn-image" onclick="setMode('image')" class="px-6 py-2.5 rounded-xl text-gray-500 hover:text-white font-bold text-xs uppercase tracking-widest transition-all">
                        Immagini AI
                    </button>
                </div>

                <div class="space-y-4">
                    <textarea id="prompt-input" 
                        placeholder="Cosa vuoi creare oggi?" 
                        class="w-full h-32 bg-transparent text-xl font-medium placeholder:text-gray-700 focus:outline-none resize-none"></textarea>
                    
                    <div class="pt-4 border-t border-white/5 flex flex-col sm:flex-row justify-between items-center gap-4">
                        <p id="status" class="text-xs font-bold text-gray-600 uppercase tracking-tighter"></p>
                        <button id="gen-button" class="btn-primary w-full sm:w-auto px-10 py-4 rounded-2xl flex items-center justify-center gap-3 shadow-xl">
                            <span class="font-black uppercase tracking-widest text-sm">Lancia Generazione</span>
                            <i data-lucide="zap" class="w-5 h-5 fill-white"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div id="loader" class="loading-bar"></div>
        </div>

        <!-- RISULTATI -->
        <div id="results" class="hidden space-y-8 mb-20">
            <div class="result-card glass rounded-3xl p-8 border-blue-500/20">
                <div class="flex items-center justify-between mb-6">
                    <div class="flex items-center gap-3 text-blue-500">
                        <i data-lucide="check-circle" class="w-5 h-5"></i>
                        <span class="font-black uppercase text-xs tracking-widest">Contenuto Generato</span>
                    </div>
                    <button onclick="copyText()" class="p-2 hover:bg-white/5 rounded-lg transition-colors text-gray-400">
                        <i data-lucide="copy" class="w-5 h-5"></i>
                    </button>
                </div>
                
                <div id="output-text" class="text-lg text-gray-200 leading-relaxed font-medium"></div>
                
                <div id="output-image" class="hidden mt-6">
                    <img id="img-target" src="" alt="AI Gen" class="w-full rounded-2xl shadow-2xl border border-white/10">
                </div>
            </div>
        </div>

        <!-- ADS SECTION -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 pb-20">
            <div class="glass p-8 rounded-3xl border-blue-500/30 bg-blue-600/5 group hover:bg-blue-600/10 transition-all">
                <i data-lucide="gift" class="w-8 h-8 text-blue-500 mb-4"></i>
                <h3 class="text-xl font-black mb-2 italic">BONUS 500€ ADS</h3>
                <p class="text-gray-500 text-sm mb-6">Credito gratuito Google Ads per lanciare i tuoi post generati. Riservato ai partner.</p>
                <a href="https://v6177972-sys.github.io/studiox-ai/" class="flex items-center justify-between bg-blue-600 py-4 px-6 rounded-2xl font-bold hover:bg-blue-500 transition-all">
                    Attiva Bonus <i data-lucide="external-link" class="w-4 h-4"></i>
                </a>
            </div>
            <div class="glass p-8 rounded-3xl opacity-50 cursor-not-allowed">
                <i data-lucide="lock" class="w-8 h-8 text-gray-600 mb-4"></i>
                <h3 class="text-xl font-black mb-2 italic text-gray-600">PROMPT VAULT</h3>
                <p class="text-gray-600 text-sm">Sblocca la libreria segreta dei prompt virali. In arrivo presto.</p>
            </div>
        </div>

    </main>

    <script>
        lucide.createIcons();
        let mode = 'text';
        const apiKey = ""; // Gestita dall'ambiente

        function setMode(m) {
            mode = m;
            document.getElementById('btn-text').className = m === 'text' ? 'px-6 py-2.5 rounded-xl bg-blue-600 text-white font-bold text-xs uppercase tracking-widest' : 'px-6 py-2.5 rounded-xl text-gray-500 hover:text-white font-bold text-xs uppercase tracking-widest';
            document.getElementById('btn-image').className = m === 'image' ? 'px-6 py-2.5 rounded-xl bg-blue-600 text-white font-bold text-xs uppercase tracking-widest' : 'px-6 py-2.5 rounded-xl text-gray-500 hover:text-white font-bold text-xs uppercase tracking-widest';
            document.getElementById('prompt-input').placeholder = m === 'text' ? 'Descrivi il post che desideri...' : 'Descrivi l\'immagine futuristica che desideri...';
        }

        async function callAI(endpoint, body) {
            const resp = await fetch(endpoint, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(body)
            });
            if (!resp.ok) throw new Error('API Down');
            return resp.json();
        }

        document.getElementById('gen-button').addEventListener('click', async () => {
            const prompt = document.getElementById('prompt-input').value;
            const btn = document.getElementById('gen-button');
            const loader = document.getElementById('loader');
            const status = document.getElementById('status');
            
            if (!prompt) return;

            btn.disabled = true;
            status.innerText = "Accesso ai server Google Pro...";
            loader.style.width = '60%';

            try {
                let content = "";
                if (mode === 'text') {
                    const res = await callAI(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                        contents: [{ parts: [{ text: prompt }] }]
                    });
                    content = res.candidates[0].content.parts[0].text;
                    document.getElementById('output-text').innerText = content;
                    document.getElementById('output-image').classList.add('hidden');
                } else {
                    const res = await callAI(`https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${apiKey}`, {
                        instances: { prompt: prompt }, parameters: { sampleCount: 1 }
                    });
                    const b64 = res.predictions[0].bytesBase64Encoded;
                    document.getElementById('img-target').src = `data:image/png;base64,${b64}`;
                    document.getElementById('output-image').classList.remove('hidden');
                    document.getElementById('output-text').innerText = "Immagine generata con successo.";
                }
                
                document.getElementById('results').classList.remove('hidden');
                status.innerText = "Operazione completata.";
            } catch (e) {
                // FALLBACK DEMO MODE - Per i video su TikTok
                status.innerText = "Modalità Simulazione Attiva (API in attesa)";
                document.getElementById('output-text').innerText = "STUDIOX AI PRO RISULTATO:\n\nQuesto è un esempio di come l'IA trasforma la tua idea in un post perfetto. Il sistema è ottimizzato per la massima viralità su TikTok e X. Prova un altro prompt!";
                document.getElementById('results').classList.remove('hidden');
            } finally {
                loader.style.width = '100%';
                setTimeout(() => { loader.style.width = '0'; btn.disabled = false; }, 1000);
            }
        });

        function copyText() {
            const txt = document.getElementById('output-text').innerText;
            navigator.clipboard.writeText(txt).then(() => {
                document.getElementById('status').innerText = "Copiato negli appunti!";
                setTimeout(() => document.getElementById('status').innerText = "", 2000);
            });
        }
    </script>
</body>
</html>

